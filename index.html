<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>For My Princess, Simin</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        :root {
            --pink-deep: #ff007f;
            --pink-hot: #ff69b4;
            --pink-soft: #ffc2d1;
            --purple-soft: #e0c3fc;
            --glass: rgba(255, 255, 255, 0.65);
            --glass-border: rgba(255, 255, 255, 0.8);
        }

        body {
            margin: 0;
            min-height: 100vh;
            background: linear-gradient(45deg, #ff9a9e 0%, #fad0c4 99%, #fad0c4 100%);
            font-family: 'Quicksand', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
            padding-bottom: 50px; 
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" style="fill:magenta;stroke:white;"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>') 12 12, auto;
        }

        #particle-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; }

        .glass-card {
            background: var(--glass);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 2px solid var(--glass-border);
            width: 90%;
            max-width: 550px;
            border-radius: 40px;
            padding: 40px 30px;
            box-shadow: 0 25px 50px rgba(255, 105, 180, 0.25);
            text-align: center;
            position: relative;
            animation: slideUp 1s ease-out;
            margin-top: 60px;
            margin-bottom: 40px;
        }

        .avatar-container {
            position: relative;
            width: 140px; height: 140px;
            margin: -80px auto 20px;
        }
        .avatar-img {
            width: 100%; height: 100%;
            border-radius: 50%;
            border: 6px solid white;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            object-fit: cover;
            animation: float 4s ease-in-out infinite;
        }
        .crown {
            position: absolute; top: -25px; right: -10px;
            font-size: 3rem;
            animation: tilt 2s infinite;
            filter: drop-shadow(0 5px 5px rgba(0,0,0,0.1));
        }

        h1 {
            font-family: 'Fredoka One', cursive;
            font-size: 2.5rem;
            color: var(--pink-deep);
            margin: 10px 0;
            text-shadow: 2px 2px 0px rgba(255,255,255,0.8);
        }

        /* GALLERIES */
        .gallery-container {
            display: flex; gap: 15px; overflow-x: auto; padding: 20px 10px;
            scrollbar-width: none;
        }
        .gallery-container::-webkit-scrollbar { display: none; }
        
        .polaroid {
            min-width: 130px; background: white; padding: 8px 8px 25px 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1); transform: rotate(-3deg);
            transition: transform 0.3s; border-radius: 4px;
        }
        .polaroid:nth-child(even) { transform: rotate(3deg); }
        .polaroid:hover { transform: rotate(0) scale(1.1); z-index: 10; }
        .polaroid img { width: 100%; height: 130px; object-fit: cover; border-radius: 2px; }

        /* LOVE GENERATOR */
        .love-generator-box {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            border: 2px dashed var(--pink-soft);
        }
        .love-text {
            font-size: 1.1rem; color: #555; min-height: 30px; font-weight: 600;
            margin-bottom: 10px; transition: opacity 0.3s;
        }
        .love-btn {
            background: var(--pink-soft); border: none; color: white;
            padding: 8px 16px; border-radius: 20px; cursor: pointer;
            font-weight: bold; transition: 0.3s;
        }
        .love-btn:hover { background: var(--pink-hot); }

        /* MEMORY VAULT */
        .vault-box {
            background: linear-gradient(135deg, #fff0f5, #fff);
            border-radius: 20px; padding: 25px; margin: 30px 0;
            box-shadow: inset 0 0 10px rgba(255,105,180,0.2);
            border: 2px solid var(--pink-soft);
        }
        .vault-input {
            width: 70%; padding: 10px; border-radius: 20px; border: 2px solid var(--pink-soft);
            text-align: center; font-family: 'Quicksand'; outline: none; margin-top: 10px;
        }
        .vault-btn {
            background: var(--pink-deep); color: white; border: none; padding: 10px 20px;
            border-radius: 20px; margin-top: 10px; cursor: pointer;
        }
        .hidden-vault-content { display: none; animation: popIn 0.5s; margin-top: 20px;}
        .vault-img { width: 100%; border-radius: 10px; margin-top: 10px; border: 3px solid white; box-shadow: 0 5px 15px rgba(0,0,0,0.2); }

        /* TYPEWRITER POEM */
        .typewriter-box {
            font-family: 'Courier New', monospace; font-size: 1rem; color: var(--pink-deep);
            background: rgba(255,255,255,0.5); padding: 15px; border-radius: 10px;
            margin: 20px 0; min-height: 60px; display: flex; align-items: center; justify-content: center;
            border: 1px solid var(--pink-soft);
        }
        .cursor { animation: blink 1s infinite; border-right: 2px solid var(--pink-deep); }
        @keyframes blink { 50% { border-color: transparent; } }

        /* COUNTDOWN */
        .countdown-container {
            display: flex; justify-content: center; gap: 10px; margin: 20px 0;
        }
        .time-box {
            background: linear-gradient(135deg, var(--pink-hot), var(--pink-deep));
            color: white; padding: 10px; border-radius: 10px; width: 60px;
        }
        .time-val { font-size: 1.2rem; font-weight: bold; font-family: 'Fredoka One'; }
        .time-label { font-size: 0.7rem; text-transform: uppercase; }

        /* ENVELOPE */
        .envelope-wrapper { margin: 30px auto; width: 100%; max-width: 400px; cursor: pointer; perspective: 1000px; }
        .envelope-closed {
            background: linear-gradient(45deg, var(--pink-hot), var(--pink-deep));
            color: white; padding: 20px; border-radius: 20px; font-weight: bold; font-size: 1.2rem;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 10px 20px rgba(255, 0, 127, 0.3); transition: transform 0.3s;
        }
        .envelope-closed:hover { transform: scale(1.05); }
        .letter-open {
            display: none; background: white; padding: 30px; border-radius: 20px; text-align: left;
            position: relative; box-shadow: 0 15px 30px rgba(0,0,0,0.1); border: 2px dashed var(--pink-hot);
            animation: unfold 0.6s ease-out;
            white-space: pre-wrap; /* Keeps line breaks from the text */
        }
        .letter-open p { line-height: 1.8; color: #555; font-size: 1.1rem; margin: 0; }

        /* GIFT */
        .gift-btn {
            background: white; border: 3px solid var(--pink-hot); color: var(--pink-deep);
            padding: 15px 40px; border-radius: 50px; font-family: 'Fredoka One'; font-size: 1.3rem;
            cursor: pointer; margin-top: 20px; transition: 0.3s; box-shadow: 0 8px 0 var(--pink-soft);
        }
        .gift-btn:active { transform: translateY(5px); box-shadow: 0 3px 0 var(--pink-soft); }
        .gift-content {
            display: none; margin-top: 20px; background: rgba(255,255,255,0.8);
            padding: 20px; border-radius: 20px; animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        /* FLOATING KISS BUTTON */
        .kiss-btn {
            position: fixed; bottom: 30px; right: 30px;
            width: 60px; height: 60px; background: white;
            border-radius: 50%; font-size: 30px;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 10px 25px rgba(255,0,127,0.4);
            cursor: pointer; border: 3px solid var(--pink-hot);
            transition: transform 0.2s; z-index: 999;
        }
        .kiss-btn:active { transform: scale(0.9); }
        .emoji-float {
            position: fixed; font-size: 24px; pointer-events: none;
            animation: floatUp 2s linear forwards; z-index: 998;
        }

        /* MUSIC TOGGLE */
        .music-toggle {
            position: fixed; top: 20px; right: 20px; background: white; width: 50px; height: 50px;
            border-radius: 50%; display: flex; justify-content: center; align-items: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1); cursor: pointer; z-index: 100;
            color: var(--pink-deep); font-size: 1.2rem; border: 2px solid var(--pink-hot); transition: 0.3s;
        }
        .music-toggle:hover { transform: scale(1.1); }
        .music-playing { animation: spin 4s linear infinite; background: var(--pink-hot); color: white;}

        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        @keyframes tilt { 0%, 100% { transform: rotate(10deg); } 50% { transform: rotate(25deg); } }
        @keyframes slideUp { from { transform: translateY(50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        @keyframes unfold { from { transform: rotateX(90deg); opacity: 0; } to { transform: rotateX(0deg); opacity: 1; } }
        @keyframes popIn { from { transform: scale(0); } to { transform: scale(1); } }
        @keyframes spin { 100% { transform: rotate(360deg); } }
        @keyframes floatUp { 0% { transform: translateY(0) scale(1); opacity: 1; } 100% { transform: translateY(-300px) scale(1.5); opacity: 0; } }

    </style>
</head>
<body>

    <canvas id="particle-canvas"></canvas>

    <div class="kiss-btn" onclick="sendKisses()">üíã</div>

    <div class="glass-card">
        <div class="avatar-container">
            <div class="crown">üëë</div>
            <img src="4.png" class="avatar-img" alt="Avatar">
        </div>

        <h1>Simin</h1>

        <p style="color: var(--pink-deep); font-weight: bold; margin-bottom: 5px;">Time until our special dinner:</p>
        <div class="countdown-container" id="countdown">
            <div class="time-box"><div class="time-val" id="days">00</div><div class="time-label">Days</div></div>
            <div class="time-box"><div class="time-val" id="hours">00</div><div class="time-label">Hrs</div></div>
            <div class="time-box"><div class="time-val" id="minutes">00</div><div class="time-label">Min</div></div>
            <div class="time-box"><div class="time-val" id="seconds">00</div><div class="time-label">Sec</div></div>
        </div>

        <div class="gallery-container">
            <div class="polaroid"><img src="1.jpeg" alt="Memory 1"></div>
            <div class="polaroid"><img src="3.jpeg" alt="Memory 2"></div>
            <div class="polaroid"><img src="2.jpeg" alt="Memory 3"></div>
        </div>

        <div class="love-generator-box">
            <i class="fas fa-heart" style="color: var(--pink-hot); margin-bottom: 5px;"></i>
            <div class="love-text" id="loveText">Tap the button for a reminder...</div>
            <button class="love-btn" onclick="newReason()">Tell me why ‚ù§Ô∏è</button>
        </div>

        <div class="typewriter-box">
            <span id="typewriterText"></span><span class="cursor">&nbsp;</span>
        </div>

        <div class="vault-box">
            <i class="fas fa-lock" style="font-size: 1.5rem; color: var(--pink-deep); margin-bottom: 10px;"></i>
            <div style="font-weight: bold; color: #555;">The Memory Vault</div>
            <p style="font-size: 0.9rem; margin: 5px 0;">Where was our first date?</p>
            
            <input type="text" id="vaultInput" class="vault-input" placeholder="Type answer here...">
            <button class="vault-btn" onclick="checkVault()">Unlock</button>

            <div class="hidden-vault-content" id="vaultContent">
                <p style="color: var(--pink-deep); font-weight: bold; font-size: 1.1rem;">You remembered! That was the day my life truly began.</p>
                <img src="5.jpeg" class="vault-img" alt="Secret Memory">
            </div>
        </div>

        <div class="envelope-wrapper" onclick="openLetter()">
            <div class="envelope-closed" id="envelopeClosed">
                <i class="fas fa-envelope-heart" style="margin-right: 10px; font-size: 1.5rem;"></i>
                Read My Heart
            </div>
            <div class="letter-open" id="letterOpen">
                <p>My dearest love,

Happy Birthday to the most beautiful woman in my life ‚Äî my wife, my best friend, my peace, and my greatest blessing.

From the moment you came into my life, everything changed for the better. Your smile brightens my darkest days, your love gives me strength, and your presence makes every ordinary moment feel special. I am endlessly grateful to call you my wife.

Thank you for loving me the way you do, for supporting me even when things aren‚Äôt easy, and for filling our home with warmth, laughter, and care. You make my life complete in ways words can never fully express.

On your special day, I pray that all your dreams come true, that happiness follows you wherever you go, and that your life is filled with good health, success, and endless joy. I promise to stand by you, love you, and cherish you not just today, but every day for the rest of my life.

Happy Birthday, my love. You are my today, my tomorrow, and my forever.

With all my love,</p>
                <div style="text-align: right; color: var(--pink-hot); font-weight: bold; margin-top:20px;">- Your Hubby</div>
            </div>
        </div>

        <button class="gift-btn" id="giftBtn" onclick="revealGift()">
            Tap for Surprise!
        </button>

        <div class="gift-content" id="giftContent">
            <h2 style="font-family: 'Fredoka One'; color: var(--pink-deep); margin-bottom: 5px;">A Spa Day Just for You</h2>
            <p style="font-weight: bold; color: #555;">Relax, unwind, and let me take care of everything.</p>
            <i class="fas fa-gift" style="font-size: 3rem; color: var(--pink-hot); margin-top: 15px; animation: float 2s infinite;"></i>
        </div>

    </div>

    <script>
        // =========================================================
        // ‚öôÔ∏è CONFIGURATION (JAVASCRIPT)
        // =========================================================
        
        const loveReasons = [
            "Your laugh is my favorite sound.",
            "You make the best coffee in the world.",
            "You always know how to cheer me up.",
            "Your kindness to others inspires me.",
            "You are the most beautiful woman in any room.",
            "I love how your nose crinkles when you smile."
        ];
        
        // Date format: "Month Day, Year HH:MM:SS"
        const targetDate = new Date("October 25, 2025 19:00:00").getTime();
        
        // The answer to the vault question (must be lowercase)
        const correctAnswer = "bfc";

        // =========================================================
        // END CONFIGURATION
        // =========================================================

        // 1. PARTICLES BACKGROUND
        const canvas = document.getElementById('particle-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        const particles = [];
        const shapes = ['‚ù§Ô∏è', '‚ú®', 'üå∏'];

        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = canvas.height + Math.random() * 100;
                this.size = Math.random() * 20 + 10;
                this.speedY = Math.random() * 2 + 1;
                this.shape = shapes[Math.floor(Math.random() * shapes.length)];
                this.opacity = Math.random() * 0.5 + 0.3;
            }
            update() {
                this.y -= this.speedY;
                if (this.y < -50) this.y = canvas.height + 50;
            }
            draw() {
                ctx.globalAlpha = this.opacity;
                ctx.font = this.size + 'px Arial';
                ctx.fillStyle = 'white';
                ctx.fillText(this.shape, this.x, this.y);
            }
        }
        for (let i = 0; i < 25; i++) { particles.push(new Particle()); }
        function animateParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach(p => { p.update(); p.draw(); });
            requestAnimationFrame(animateParticles);
        }
        animateParticles();
        window.addEventListener('resize', () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; });

        // 2. LOVE GENERATOR
        function newReason() {
            const textBox = document.getElementById('loveText');
            textBox.style.opacity = 0;
            setTimeout(() => {
                const random = loveReasons[Math.floor(Math.random() * loveReasons.length)];
                textBox.innerText = random;
                textBox.style.opacity = 1;
            }, 300);
        }

        // 3. SEND KISSES (FLOATING EMOJIS)
        function sendKisses() {
            for(let i=0; i<10; i++){
                const emoji = document.createElement('div');
                emoji.innerHTML = 'üíã';
                emoji.className = 'emoji-float';
                emoji.style.left = Math.random() * 100 + 'vw';
                emoji.style.bottom = '0px';
                emoji.style.animationDuration = (Math.random() * 1 + 1.5) + 's';
                document.body.appendChild(emoji);
                setTimeout(() => emoji.remove(), 2000);
            }
        }

        // 4. COUNTDOWN TIMER
        const timer = setInterval(function() {
            const now = new Date().getTime();
            const distance = targetDate - now;

            if (distance < 0) {
                document.getElementById("countdown").innerHTML = "<div style='font-weight:bold; color:white;'>It's Time! üéâ</div>";
                return;
            }

            document.getElementById("days").innerText = Math.floor(distance / (1000 * 60 * 60 * 24));
            document.getElementById("hours").innerText = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            document.getElementById("minutes").innerText = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            document.getElementById("seconds").innerText = Math.floor((distance % (1000 * 60)) / 1000);
        }, 1000);

        // 5. LETTER LOGIC
        function openLetter() {
            const closed = document.getElementById('envelopeClosed');
            const open = document.getElementById('letterOpen');
            if(open.style.display === 'block') return;
            closed.style.display = 'none';
            open.style.display = 'block';
            confetti({ particleCount: 50, spread: 60, origin: { y: 0.7 }, colors: ['#ff69b4', '#ffe6f2'], shapes: ['heart'] });
        }

        // 6. GIFT LOGIC
        function revealGift() {
            document.getElementById('giftBtn').style.display = 'none';
            document.getElementById('giftContent').style.display = 'block';
            var end = Date.now() + (2 * 1000);
            var colors = ['#ff007f', '#ffffff'];
            (function frame() {
                confetti({ particleCount: 5, angle: 60, spread: 55, origin: { x: 0 }, colors: colors });
                confetti({ particleCount: 5, angle: 120, spread: 55, origin: { x: 1 }, colors: colors });
                if (Date.now() < end) requestAnimationFrame(frame);
            }());
        }

        // 7. MUSIC TOGGLE
        function toggleMusic() {
            const audio = document.getElementById('bgMusic');
            const btn = document.querySelector('.music-toggle');
            if (audio.paused) {
                audio.play();
                btn.classList.add('music-playing');
                btn.innerHTML = '<i class="fas fa-pause"></i>';
            } else {
                audio.pause();
                btn.classList.remove('music-playing');
                btn.innerHTML = '<i class="fas fa-music"></i>';
            }
        }

        // 8. VAULT LOGIC
        function checkVault() {
            const input = document.getElementById('vaultInput').value.toLowerCase().trim();
            if(input === correctAnswer) {
                document.getElementById('vaultContent').style.display = 'block';
                confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
                document.getElementById('vaultInput').style.display = 'none'; // Hide input
                document.querySelector('.vault-btn').style.display = 'none'; // Hide button
            } else {
                alert("Not quite! Try again, my love. Hint: " + correctAnswer.charAt(0).toUpperCase() + "...");
                document.getElementById('vaultInput').style.border = "2px solid red";
            }
        }

        // 9. TYPEWRITER EFFECT
        const poemText = "In a sea of people, my eyes will always search for you. You are my favorite thought.";
        const typeWriterElement = document.getElementById('typewriterText');
        let charIndex = 0;

        function typeWriter() {
            if (charIndex < poemText.length) {
                typeWriterElement.innerHTML += poemText.charAt(charIndex);
                charIndex++;
                setTimeout(typeWriter, 50); 
            }
        }
        setTimeout(typeWriter, 1000);

    </script>
</body>
</html>